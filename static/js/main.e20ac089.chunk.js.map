{"version":3,"sources":["components/shop-header/shop-header.jsx","components/shop-header/index.js","components/spinner/spinner.jsx","components/spinner/index.js","components/error-indicator/error-indicator.jsx","components/error-indicator/index.js","components/book-list-item/book-list-item.jsx","components/book-list-item/index.js","components/book-list/book-list.jsx","components/book-list/index.js","components/bookstore-service-context/bookstore-service-context.jsx","components/hoc/index.js","components/hoc/with-bookstore-service.jsx","actions/index.js","containers/book-list-container/book-list-container.jsx","containers/book-list-container/index.js","utils/index.js","components/pages/home-page.jsx","components/shopping-cart-table/shopping-cart-table.jsx","components/shopping-cart-table/index.js","components/pages/cart-page.jsx","components/app/app.jsx","components/app/index.js","components/error-boundary/index.js","components/error-boundary/error-boundary.jsx","services/bookstore-service.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.jsx"],"names":["ShopHeader","numItems","total","className","to","Spinner","style","width","height","ErrorIndicator","BookListItem","book","onAddedToCart","title","author","price","coverImage","src","alt","onClick","type","BookList","books","map","key","id","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","WrappedComponent","props","bookstoreService","bookAddedToCart","bookId","payload","fetchBooks","dispatch","getBooks","then","data","catch","err","booksError","BookListContainer","this","loading","error","Component","funcs","component","reduceRight","acc","func","compose","connect","bookList","HomePage","mapDispatchToProps","onIncrease","onDecrease","onDelete","shoppingCart","items","cartItems","orderTotal","length","item","index","count","ShoppingCartTable","CartPage","role","reduce","path","exact","App","ErrorBoundary","state","hasError","setState","children","BookstoreService","Promise","resolve","setTimeout","updateBookList","action","updateOrderTotal","cart","updateOrder","quantity","itemIndex","findIndex","cartItem","newCart","slice","updateCartItems","newCount","bookPrice","newTotal","updateItem","find","localStorage","setItem","JSON","stringify","updateShoppingCart","cartFromLocalStorage","getItem","parse","filter","reducer","store","createStore","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.e20ac089.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ShopHeader = ({ numItems, total }) => (\n  <header className=\"shop-header row\">\n    <Link to=\"/\" className=\"logo-link\">\n      <div className=\"logo text-dark\">ReStore</div>\n    </Link>\n    <Link to=\"/cart\" className=\"shopping-cart-link\">\n      <div className=\"shopping-cart\">\n        <i className=\"cart-icon fa fa-shopping-cart\" />\n        {numItems} items (${total})\n      </div>\n    </Link>\n  </header>\n);\n\nexport default ShopHeader;\n","import ShopHeader from './shop-header';\n\nimport './shop-header.css';\n\nexport default ShopHeader;\n","import React from 'react';\n\nconst Spinner = () => (\n  <div className=\"lds-css ng-scope\" style={{ width: '200px', height: '200px' }}>\n    <div className=\"lds-spin\" style={{ width: '100%', height: '100%' }}>\n      <div>\n        <div />\n      </div>\n      <div>\n        <div />\n      </div>\n      <div>\n        <div />\n      </div>\n      <div>\n        <div />\n      </div>\n      <div>\n        <div />\n      </div>\n      <div>\n        <div />\n      </div>\n      <div>\n        <div />\n      </div>\n      <div>\n        <div />\n      </div>\n    </div>\n  </div>\n);\n\nexport default Spinner;\n","import Spinner from './spinner';\n\nimport './spinner.css';\n\nexport default Spinner;\n","import React from 'react';\n\nconst ErrorIndicator = () => (\n  <div>ErrorIndicator!</div>\n);\n\nexport default ErrorIndicator;\n","import ErrorIndicator from './error-indicator';\n\nimport './error-indicator.css';\n\nexport default ErrorIndicator;\n","import React from 'react';\n\nconst BookListItem = ({ book, onAddedToCart }) => {\n  const {\n    title, author, price, coverImage,\n  } = book;\n\n  return (\n    <div className=\"book-list-item\">\n      <div className=\"book-cover\">\n        <img src={coverImage} alt=\"cover\" />\n      </div>\n      <div className=\"book-details\">\n        <span className=\"book-title\">{title}</span>\n        <div className=\"book-author\">{author}</div>\n        <div className=\"book-price\">\n          ${price}\n        </div>\n        <button\n          onClick={onAddedToCart}\n          className=\"btn btn-info add-to-cart\"\n          type=\"button\"\n        >\n          Add to cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default BookListItem;\n","import BookListItem from './book-list-item';\n\nimport './book-list-item.css';\n\nexport default BookListItem;\n","import React from 'react';\nimport BookListItem from '../book-list-item';\n\n\nconst BookList = ({ books, onAddedToCart }) => (\n  <ul className=\"book-list\">\n    {\n      books.map((book) => (\n        <li key={book.id}>\n          <BookListItem book={book} onAddedToCart={() => onAddedToCart(book.id)} />\n        </li>\n      ))\n    }\n  </ul>\n);\n\nexport default BookList;\n","import BookList from './book-list';\n\nimport './book-list.css';\n\nexport default BookList;\n","import React from 'react';\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer,\n} = React.createContext();\n\n\nexport {\n  BookstoreServiceProvider,\n  BookstoreServiceConsumer,\n};\n","import withBookstoreService from './with-bookstore-service';\n\nexport default withBookstoreService;\n","import React from 'react';\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\n\nconst withBookstoreService = () => (WrappedComponent) => (props) => (\n  <BookstoreServiceConsumer>\n    {\n      (bookstoreService) => (\n        <WrappedComponent {...props} bookstoreService={bookstoreService} />\n      )\n    }\n  </BookstoreServiceConsumer>\n);\n\nexport default withBookstoreService;\n","const booksRequested = () => ({\n  type: 'FETCH_BOOKS_REQUEST',\n});\n\nconst booksAdded = (newBooks) => ({\n  type: 'FETCH_BOOKS_SUCCESS',\n  payload: newBooks,\n});\n\nconst booksError = (err) => ({\n  type: 'FETCH_BOOKS_FAILURE',\n  payload: err,\n});\n\nconst bookAddedToCart = (bookId) => ({\n  type: 'BOOK_ADDED_TO_CART',\n  payload: bookId,\n});\n\nconst bookRemovedFromCart = (bookId) => ({\n  type: 'BOOK_REMOVED_FROM_CART',\n  payload: bookId,\n});\n\nconst allBooksRemovedFromCart = (bookId) => ({\n  type: 'ALL_BOOKS_REMOVED_FROM_CART',\n  payload: bookId,\n});\n\nconst fetchBooks = (bookstoreService, dispatch) => () => {\n  dispatch(booksRequested());\n  bookstoreService.getBooks()\n    .then((data) => dispatch(booksAdded(data)))\n    .catch((err) => dispatch(booksError(err)));\n};\n\nexport {\n  fetchBooks,\n  bookAddedToCart,\n  bookRemovedFromCart,\n  allBooksRemovedFromCart,\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport Spinner from '../../components/spinner';\nimport ErrorIndicator from '../../components/error-indicator';\nimport BookList from '../../components/book-list';\nimport withBookstoreService from '../../components/hoc';\nimport { fetchBooks, bookAddedToCart } from '../../actions';\nimport { compose } from '../../utils';\n\nclass BookListContainer extends Component {\n  componentDidMount() {\n    const {\n      fetchBooks,\n    } = this.props;\n\n    fetchBooks();\n  }\n\n  render() {\n    const {\n      books, loading, error, onAddedToCart,\n    } = this.props;\n\n    if (loading) {\n      return <Spinner />;\n    }\n\n    if (error) {\n      return <ErrorIndicator />;\n    }\n\n    return <BookList books={books} onAddedToCart={onAddedToCart} />;\n  }\n}\n\nconst mapStateToProps = ({ bookList: { books, loading, error } }) => ({ books, loading, error });\n\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => ({\n  fetchBooks: fetchBooks(bookstoreService, dispatch),\n  onAddedToCart: (id) => dispatch(bookAddedToCart(id)),\n});\n\nexport default compose(withBookstoreService(),\n  connect(mapStateToProps, mapDispatchToProps))(BookListContainer);\n","import BookListContainer from './book-list-container';\n\nexport default BookListContainer;\n","/* eslint-disable import/prefer-default-export */\nconst compose = (...funcs) => (component) => funcs.reduceRight((acc, func) => func(acc), component);\n\nexport {\n  compose,\n};\n","import React from 'react';\nimport BookListContainer from '../../containers/book-list-container';\n\nconst HomePage = () => (\n  <div>\n    <BookListContainer />\n  </div>\n);\nexport default HomePage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bookAddedToCart, bookRemovedFromCart, allBooksRemovedFromCart } from '../../actions';\n\nconst ShoppingCartTable = ({\n  items, total, onIncrease, onDecrease, onDelete,\n}) => {\n  const renderRow = (item, index) => {\n    const {\n      id, title, count, total,\n    } = item;\n    return (\n      <tr key={id}>\n        <td>{index + 1}</td>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>${total}</td>\n        <td>\n          <button\n            onClick={() => onDelete(id)}\n            className=\"btn btn-outline-danger btn-sm float-right\"\n            type=\"button\"\n          >\n            <i className=\"fa fa-trash-o\" />\n          </button>\n          <button\n            onClick={() => onIncrease(id)}\n            className=\"btn btn-outline-success btn-sm float-right\"\n            type=\"button\"\n          >\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button\n            onClick={() => onDecrease(id)}\n            className=\"btn btn-outline-warning btn-sm float-right\"\n            type=\"button\"\n          >\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n        </td>\n      </tr>\n    );\n  };\n\n  if (items.length === 0) {\n    return <h2 className=\"shopping-cart-table\">Your Cart is Empty!</h2>;\n  }\n\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Item</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {\n            items.map(renderRow)\n          }\n        </tbody>\n      </table>\n\n      <div className=\"total\">\n        Total: ${total}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal } }) => ({\n  items: cartItems,\n  total: orderTotal,\n});\n\nconst mapDispatchToProps = {\n  onIncrease: bookAddedToCart,\n  onDecrease: bookRemovedFromCart,\n  onDelete: allBooksRemovedFromCart,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\n","import ShoppingCartTable from './shopping-cart-table';\n\nimport './shopping-cart-table.css';\n\nexport default ShoppingCartTable;\n","import React from 'react';\nimport ShoppingCartTable from '../shopping-cart-table';\n\nconst CartPage = () => (\n  <div>\n    <ShoppingCartTable />\n  </div>\n);\n\nexport default CartPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport ShopHeader from '../shop-header';\nimport { HomePage, CartPage } from '../pages';\n\nconst App = ({ cartItems: items, orderTotal: total }) => (\n  <main role=\"main\" className=\"container\">\n    <ShopHeader numItems={items.reduce((acc, item) => acc + item.count, 0)} total={total} />\n    <div className=\"container\">\n      <Switch>\n        <Route\n          path=\"/\"\n          component={HomePage}\n          exact\n        />\n        <Route\n          path=\"/cart\"\n          component={CartPage}\n        />\n      </Switch>\n    </div>\n  </main>\n);\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal } }) => (\n  { cartItems, orderTotal }\n);\n\nexport default connect(mapStateToProps)(App);\n","import App from './app';\n\nimport './app.css';\n\nexport default App;\n","import ErrorBoundary from './error-boundary';\n\nexport default ErrorBoundary;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\nexport default class ErrorBoundary extends Component {\n  state = {\n    hasError: false,\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    const { hasError } = this.state;\n    const { children } = this.props;\n\n    if (hasError) {\n      return <ErrorIndicator />;\n    }\n    return children;\n  }\n}\n","export default class BookstoreService {\n  data = [\n    {\n      id: 1,\n      title: 'Structure and Interpretation of Computer Programs',\n      author: 'Harold Abelson',\n      price: 103,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41H43ADrEGL.jpg',\n    },\n    {\n      id: 2,\n      title: 'Steve Jobs',\n      author: 'Walter Isaacson',\n      price: 32,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41EQKL0jMhL._SX325_BO1,204,203,200_.jpg',\n    },\n    {\n      id: 3,\n      title: 'Extreme Programming',\n      author: 'Ward Cunningham',\n      price: 52,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/51w9bK86OVL._SX302_BO1,204,203,200_.jpg',\n    },\n    {\n      id: 4,\n      title: 'Clean Code',\n      author: 'Robert C. Martin',\n      price: 15,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/515iEcDr1GL._SX385_BO1,204,203,200_.jpg',\n    },\n    {\n      id: 5,\n      title: 'The 7 Habits of Highly Effective People',\n      author: 'Stephen R. Covey',\n      price: 25,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/51ePAUjnwmL._SX332_BO1,204,203,200_.jpg',\n    },\n  ];\n\n  getBooks() {\n    return new Promise((resolve) => setTimeout(() => resolve(this.data), 700));\n  }\n}\n","const updateBookList = (state, action) => {\n  if (!state) {\n    return {\n      books: [],\n      loading: true,\n      error: null,\n    };\n  }\n  switch (action.type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        books: [],\n        loading: true,\n        error: null,\n      };\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        books: action.payload,\n        loading: false,\n        error: null,\n      };\n    case 'FETCH_BOOKS_FAILURE':\n      return {\n        books: [],\n        loading: false,\n        error: true,\n      };\n    default:\n      return state.bookList;\n  }\n};\n\nexport default updateBookList;\n","const updateCartItems = (cartItems, item, index) => {\n  if (index === -1) {\n    return [\n      ...cartItems,\n      item,\n    ];\n  }\n\n  return [\n    ...cartItems.slice(0, index),\n    item,\n    ...cartItems.slice(index + 1),\n  ];\n};\n\nconst updateOrderTotal = (cart) => cart.reduce((acc, item) => acc + item.total, 0);\n\nconst updateItem = (book, item = {}, quantity) => {\n  const {\n    id = book.id,\n    title = book.title,\n    count = 0,\n    total = 0,\n  } = item;\n\n  const newCount = count + quantity;\n  const bookPrice = book ? book.price : total / count;\n  const newTotal = total + bookPrice * quantity;\n\n  return {\n    id,\n    title,\n    count: newCount > 1 ? newCount : 1,\n    total: newTotal > bookPrice ? newTotal : bookPrice,\n  };\n};\n\nconst updateOrder = (state, bookId, quantity) => {\n  const { shoppingCart: { cartItems }, bookList: { books } } = state;\n\n  const itemIndex = cartItems.findIndex(({ id }) => id === bookId);\n  const cartItem = cartItems[itemIndex];\n  const book = books.find(({ id }) => id === bookId);\n\n  const newItem = updateItem(book, cartItem, quantity);\n  const newCart = updateCartItems(cartItems, newItem, itemIndex);\n\n  localStorage.setItem('cart', JSON.stringify(newCart));\n\n  return {\n    orderTotal: updateOrderTotal(newCart),\n    cartItems: newCart,\n  };\n};\n\nconst updateShoppingCart = (state, action) => {\n  if (!state) {\n    const cartFromLocalStorage = localStorage.getItem('cart');\n\n    if (cartFromLocalStorage) {\n      const cart = JSON.parse(cartFromLocalStorage);\n\n      return {\n        cartItems: cart,\n        orderTotal: updateOrderTotal(cart),\n      };\n    }\n\n    return {\n      cartItems: [],\n      orderTotal: 0,\n    };\n  }\n\n  switch (action.type) {\n    case 'BOOK_ADDED_TO_CART': {\n      return updateOrder(state, action.payload, 1);\n    }\n\n    case 'BOOK_REMOVED_FROM_CART': {\n      return updateOrder(state, action.payload, -1);\n    }\n\n    case 'ALL_BOOKS_REMOVED_FROM_CART': {\n      const newCart = state.shoppingCart.cartItems.filter(({ id }) => id !== action.payload);\n      localStorage.setItem('cart', JSON.stringify(newCart));\n\n      return {\n        orderTotal: updateOrderTotal(newCart),\n        cartItems: newCart,\n      };\n    }\n\n    default:\n      return state.shoppingCart;\n  }\n};\n\nexport default updateShoppingCart;\n","import updateBookList from './book-list';\nimport updateShoppingCart from './shopping-cart';\n\nconst reducer = (state, action) => ({\n  bookList: updateBookList(state, action),\n  shoppingCart: updateShoppingCart(state, action),\n});\n\nexport default reducer;\n","import { createStore } from 'redux';\nimport reducer from './reducers';\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundary from './components/error-boundary';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nimport store from './store';\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}